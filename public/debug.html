<!DOCTYPE html>
<html>
<head>
    <title>React Debug Test</title>
    <style>
        body { 
            font-family: Arial; 
            padding: 20px; 
            background: lightyellow;
        }
        .debug-box { 
            background: white; 
            border: 2px solid black; 
            padding: 20px; 
            margin: 10px 0; 
        }
    </style>
</head>
<body>
    <h1>REACT DEBUG TEST</h1>
    
    <div class="debug-box">
        <h2>1. HTML Working</h2>
        <p>✅ Denna statiska HTML-sida fungerar</p>
    </div>

    <div class="debug-box">
        <h2>2. JavaScript Test</h2>
        <button onclick="testJS()">Test JavaScript</button>
        <div id="js-result"></div>
    </div>

    <div class="debug-box">
        <h2>3. LocalStorage Test</h2>
        <button onclick="testAuth()">Test Auth Token</button>
        <div id="auth-result"></div>
    </div>

    <div class="debug-box">
        <h2>4. API Test</h2>
        <button onclick="testAPI()">Test API Call</button>
        <div id="api-result"></div>
    </div>

    <div class="debug-box">
        <h2>5. React App Status</h2>
        <p>Gå till <a href="/">/</a> och se om React-appen laddar</p>
        <p>Kolla browser console för JavaScript-fel</p>
    </div>

    <script>
        function testJS() {
            document.getElementById('js-result').innerHTML = '✅ JavaScript fungerar!';
        }

        function testAuth() {
            const token = localStorage.getItem('token');
            const user = localStorage.getItem('user');
            document.getElementById('auth-result').innerHTML = `
                <p>Token: ${token ? 'Finns' : 'Saknas'}</p>
                <p>User: ${user ? 'Finns' : 'Saknas'}</p>
            `;
        }

        async function testAPI() {
            const resultDiv = document.getElementById('api-result');
            resultDiv.innerHTML = 'Testar API...';
            
            try {
                const token = localStorage.getItem('token');
                if (!token) {
                    resultDiv.innerHTML = '❌ Ingen token i localStorage';
                    return;
                }
                
                const response = await fetch('/api/clients', {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    resultDiv.innerHTML = `✅ API fungerar! ${data.length} klienter`;
                } else {
                    resultDiv.innerHTML = `❌ API error: ${response.status}`;
                }
            } catch (error) {
                resultDiv.innerHTML = `❌ Fel: ${error.message}`;
            }
        }
    </script>
</body>
</html>